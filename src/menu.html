<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>JS Obfuscator - Joel</title>
  <style>
    body {
      margin:0;
      font-family:monospace;
      background:#121212;
      color:white;
    }
    header {
      display:flex;
      justify-content:space-between;
      align-items:center;
      padding:10px 20px;
      background:#1e1e1e;
      border-bottom:1px solid #444;
    }
    #logoSection { display:flex;align-items:center;cursor:pointer;position:relative; }
    #logo { width:50px;height:50px;border-radius:50%; }
    #aboutMe { margin-left:10px;font-weight:bold; }
    #logoDropdown {
      display:none;
      position:absolute;
      top:60px;
      left:0;
      background:#1e1e1e;
      border:1px solid #444;
      border-radius:10px;
      padding:10px;
      z-index:1000;
      min-width:200px;
      box-shadow:0 4px 10px rgba(0,0,0,0.5);
    }
    #logoDropdown button {
      display:block;
      width:100%;
      margin:5px 0;
      padding:8px;
      border:none;
      background:#333;
      color:white;
      cursor:pointer;
      border-radius:6px;
    }
    #logoDropdown button:hover { background:#555; }
    #userProfile { display:flex;align-items:center; }
    #profileImg { width:40px;height:40px;border-radius:50%;margin-right:8px; }
    main { padding:20px; }
    textarea {
      width:100%;
      height:150px;
      background:#000;
      color:lime;
      font-family:monospace;
      border:1px solid #444;
      padding:10px;
      border-radius:8px;
    }
    button {
      margin-top:10px;
      padding:10px 20px;
      border:none;
      border-radius:8px;
      background:#333;
      color:white;
      cursor:pointer;
    }
    button:hover { background:#555; }
    .modal {
      display:none;
      position:fixed;
      top:0;left:0;
      width:100%;height:100%;
      background:rgba(0,0,0,0.7);
      justify-content:center;
      align-items:center;
      z-index:2000;
    }
    .modal-content {
      background:#1e1e1e;
      padding:20px;
      border-radius:10px;
      text-align:center;
      max-width:400px;
      width:90%;
    }
    input, #loginSecretId {
      width:90%;
      padding:10px;
      margin:8px 0;
      border:1px solid #444;
      border-radius:8px;
      background:#000;
      color:white;
    }
  </style>
</head>
<body>

<header>
  <div id="logoSection">
    <img id="logo" src="https://raw.githubusercontent.com/joeljamestech2/js-obfuscator/refs/heads/main/image/main.jpg" alt="Logo">
    <span id="aboutMe">About Me</span>

    <!-- Dropdown menu -->
    <div id="logoDropdown">
      <button onclick="window.open('https://chat.whatsapp.com/YOUR-WA-GROUP','_blank')">WA Group</button>
      <button onclick="window.open('https://whatsapp.com/channel/YOUR-WA-CHANNEL','_blank')">WA Channel</button>
      <button onclick="window.open('https://tiktok.com/@yourprofile','_blank')">TikTok</button>
      <button onclick="window.open('https://wa.me/255781144539','_blank')">Chat Me</button>
      <button onclick="window.open('https://github.com/joeljamestech2','_blank')">GitHub</button>
      <button onclick="window.open('https://www.buymeacoffee.com/yourusername','_blank')">Buy Me Coffee</button>
      <button onclick="window.open('https://github.com/joeljamestech2/JS-Obfuscator','_blank')">Repo</button>
      <button onclick="logout()">Logout</button>
    </div>
  </div>

  <div id="userProfile">
    <img id="profileImg" src="https://raw.githubusercontent.com/joeljamestech2/js-obfuscator/refs/heads/main/image/user.jpg" alt="User">
    <span id="username">Guest</span>
  </div>
</header>

<main>
  <h2>JS Obfuscator</h2>
  <textarea id="inputCode" placeholder="Write your JS code here..."></textarea><br>
  <button onclick="obfuscateCode()">Obfuscate</button>
  <textarea id="outputCode" placeholder="Obfuscated code will appear here..."></textarea>
  <br>
  <input type="text" id="fileName" placeholder="Enter file name before downloading">
  <button onclick="downloadCode()">Download</button>
</main>

<!-- Login Modal -->
<div id="loginModal" class="modal">
  <div class="modal-content">
    <h2>Login</h2>
    <input type="text" id="loginUsername" placeholder="Enter username">
    <input type="file" id="loginImage">
    <input type="text" id="loginSecretId" placeholder="Enter Secret ID (starts with LORD~JOEL~)">
    <button onclick="login()">Login</button>
  </div>
</div>

<script>
  const logoSection = document.getElementById("logoSection");
  const logoDropdown = document.getElementById("logoDropdown");

  // Toggle dropdown
  logoSection.onclick = (e) => {
    e.stopPropagation();
    logoDropdown.style.display = logoDropdown.style.display === "block" ? "none" : "block";
  };
  document.addEventListener("click", () => {
    logoDropdown.style.display = "none";
  });

  // Show login modal if not logged in
  window.onload = () => {
    if(!localStorage.getItem("username") || !localStorage.getItem("secretId")) {
      document.getElementById("loginModal").style.display="flex";
    } else {
      loadUser();
    }
  };

  function login() {
    const username = document.getElementById("loginUsername").value.trim();
    const secretId = document.getElementById("loginSecretId").value.trim();
    const imageInput = document.getElementById("loginImage");

    if(!secretId.startsWith("LORD~JOEL~")) {
      alert("Secret ID must start with LORD~JOEL~");
      return;
    }
    if(username==="") {
      alert("Enter username");
      return;
    }

    localStorage.setItem("username", username);
    localStorage.setItem("secretId", secretId);

    if(imageInput.files && imageInput.files[0]) {
      const reader = new FileReader();
      reader.onload = (e) => {
        localStorage.setItem("userImg", e.target.result);
        loadUser();
      };
      reader.readAsDataURL(imageInput.files[0]);
    } else {
      localStorage.setItem("userImg", "https://raw.githubusercontent.com/joeljamestech2/js-obfuscator/refs/heads/main/image/user.jpg");
      loadUser();
    }

    document.getElementById("loginModal").style.display="none";
  }

  function loadUser() {
    document.getElementById("username").textContent = localStorage.getItem("username");
    document.getElementById("profileImg").src = localStorage.getItem("userImg");
  }

  function logout() {
    const entered = prompt("Enter your Secret ID to confirm logout:");
    if(entered === localStorage.getItem("secretId")) {
      localStorage.clear();
      location.reload();
    } else {
      alert("Wrong Secret ID!");
    }
  }

  function obfuscateCode() {
    const code = document.getElementById("inputCode").value;
    if(code.trim()==="") { alert("Enter code first!"); return; }
    let result = code.split("").reverse().join(""); // Dummy obfuscation
    document.getElementById("outputCode").value = result;
  }

  function downloadCode() {
    const filename = document.getElementById("fileName").value.trim();
    if(filename==="") { alert("Enter a file name!"); return; }
    const content = document.getElementById("outputCode").value;
    const blob = new Blob([content], { type: "text/javascript" });
    const a = document.createElement("a");
    a.href = URL.createObjectURL(blob);
    a.download = filename+".js";
    a.click();
  }
</script>

</body>
  </html>
